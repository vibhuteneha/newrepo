<div class="vertical-flex-container" ng-init="getDomainsStatus()"> <div class="left-column-user"> <div class="left-container"> <div class="logo-container"> <a href="main"> <img src="/images/bridge-pilot-logo.ba417894.jpg"> </a> </div> <div class="bottom-controls"> <div class="call-btns"> <div ng-click="gotoMissedCalls()" class="missed-call-btn" tooltip-placement="bottom-left" uib-tooltip="You have missed {{missedCalls}} calls. Click to View."> <div class="missed-call-img-container"> <img src="/images/icons/miscall-icon.3eaf2399.png" class="missed-call-img"> </div> <div class="badge-container"> <span class="badge">{{missedCalls}}</span> </div> </div> <div ng-click="goToOption('visualvoicemail')" class="voicemail-btn" tooltip-placement="bottom-left" uib-tooltip="You have {{unreadVoicemails}} unread voicemail(s). Click to View."> <div class="voicemail-img-container"> <img src="/images/icons/record-icon.068506d9.png" class="voicemail-img"> </div> <div class="badge-container"> <span class="badge">{{unreadVoicemails}}</span> </div> </div> </div> </div> </div> <div class="right-container"> <div class="did-container"> {{user.symphony_user_settings.sms_phone_number | tel}} </div> <div class="profile-avatar-container1"> <a style="text-decoration: none" href="settings"> <img ng-if="user.profile_image" src="{{pathImgProfile + user.profile_image}}" class="profile-avatar" alt=""> <div class="profile-avatar-initials" style="background-color: {{ user.profile_color ? user.profile_color : '' }}" ng-show="!user.profile_image"> {{user.contact_name_given.substring(0,1)}} {{user.contact_name_family.substring(0,1)}} </div> </a> </div> <div class="bottom-controls"> <div class="dropdown"> <button class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="{{userStatusIconClass}} userstatusicon"></i> <span class="top-profile-text"> {{user.user_status}} </span> <i class="fa fa-caret-down fa-lg" style="margin-left: 10px"> </i> </button> <ul class="dropdown-menu profilestatus" role="menu"> <li ng-click="changeUserStatus('Available')"> <i class="fa fa-check-circle fa-lg" style="color: #0c6c2c"></i> Available </li> <li ng-click="changeUserStatus('Away')"> <i class="fa fa-clock-o fa-lg" style="color: #e38500"></i> Away </li> <li ng-click="changeUserStatus('Do Not Disturb')"> <i class="fa fa-minus-circle fa-lg" style="color: #e30400"></i> Do Not Disturb </li> <li> <i class="fa fa-volume-control-phone fa-lg" style="color: #e30400"></i> Busy on call </li> <li ng-repeat="RSTstatus in domainsStatus" ng-if="RSTstatus.status_active" ng-click="changeUserStatus(RSTstatus.status_name)"> <i class="fa fa-lg {{RSTstatus.status_icon}}"></i> {{RSTstatus.status_name}} </li> <li class="divider"></li> <li> <a href="logout"> <i class="fa fa-sign-out fa-lg cls-color-blue-tkg"></i> Log Out </a> </li> </ul> </div> </div> </div> </div> <!-- **********   CALLS   ********** --> <div class="left-column-calling"> <div class="call-box-container"> <call-box></call-box> </div> </div> <!-- **********   CALLS   ********** --> <!-- CHAT BLOCK --> <div class="left-column-chat" ng-show="showChatContacts && !chatDisabled" ng-controller="ChatPlusSideCtrl"> <div class="chat-block-side-header"> @{{::mmProfile.username}}<br> <span class="chat-team-name"> {{::initialLoad.teams[0].display_name}} </span> </div> <div class="chat-block-side-content"> <ul class="chat-contacts-list"> <li class="cat"> CHANNELS <span class="add-option" ng-click="showModal('/chat/addchannel.html')" tooltip-placement="top" uib-tooltip="{{::tips.chat.create_channel}}"> <i class="fa fa-plus"></i> </span> <ul class="fa-ul channellist"> <li ng-click="setChannel(channel.id)" ng-repeat="channel in availableChannels" ng-class="{hideentity : channel.display_name === '', channelbold : channel.hasUnread }"> <i class="fa-li fa fa-{{channel.type == 'P' ? 'lock' : 'globe'}} fa-lg" style="font-size: 14px; width: 25px; text-align: center"></i> {{::channel.display_name}} <span ng-if="channel.mention_count > 0"> ({{channel.mention_count}}) </span> </li> <li><a href="" ng-click="showSubscribeChannels()"> Subscribe to More ... </a></li> </ul> </li> <li class="cat"> DIRECT MESSAGES <span class="add-option" ng-click="openDirectMessage()" tooltip-placement="top" uib-tooltip="{{::tips.chat.create_direct_message}}"> <i class="fa fa-plus"></i> </span> <ul class="channellist"> <li ng-if="preference.value=='true'" ng-repeat="preference in allPreferences | filter : {'category' : 'direct_channel_show'} " ng-class="{channelbold : hasUnreadDirect(preference.name) }"> <i ng-class="showChatStatus(teamUsers[preference.name])" style="opacity: 0.6; font-size: 16px"></i> <span ng-click="showDirectMessage(preference.name)">{{teamUsers[preference.name].first_name}} {{teamUsers[preference.name].last_name}}</span> <span ng-if="hasUnreadDirect(preference.name)"> ({{showDirectCount(preference.name)}}) </span> <span ng-click="hideDirectMessage(preference.name);$event.stopPropagation()"> <i class="fa fa-times showonhover" style="color: #888; float: right; padding: 4px 10px" tooltip-placement="top" uib-tooltip="{{::tips.chat.leave_direct_message}}"></i> </span> </li> </ul> </li> </ul> </div> </div> <!-- END CHAT BLOCK --> <div class="left-column-contacts" ng-if="showContacts" ng-controller="ContactDetailsCtrl"> <div class="input-group filter-contact-group"> <input class="form-control filter-contact" type="text" ng-model="search" ng-change="filter()" placeholder="Filter contacts"> <span class="input-group-addon"> <a class="fa fa-sitemap" ng-click="showManageGroups()" tooltip-placement="bottom-right" uib-tooltip="{{::tips.leftbar.manage_groups}}"> </a> <!--Originally it had ng-class="{opcSelFilter : btnFiltAct==='1'}" --> <a class="fa fa-star" ng-class="{'red' : btnFiltAct==='1'}" ng-click="filterOpcSelected('1')" tooltip-placement="bottom-right" uib-tooltip="{{btnFiltAct==='1' ? tips.leftbar.show_all_contacts : tips.leftbar.show_favorite_contacts}}"> </a> <a class="fa fa-plus" ng-class="{opcSelFilter : btnFiltAct==='3'}" href="" ng-click="showAddContactForm()" tooltip-placement="bottom-right" uib-tooltip="{{::tips.leftbar.add_contact}}"> </a> </span> </div> <div class="list-contacts"> <div class="list-group contactsside"> <div ng-if="contactGroups.length > 0" class="accordion" uib-accordion> <div uib-accordion-group close-others="true" ng-repeat="group in contactGroups
                                                                            | orderBy: 'group_name'
                                                                            | groupIsHidden"> <div uib-accordion-heading style="text-decoration: none; border: none"> <div style="display: block; padding: 10px 15px" class="contact-item clearfix"> <img ng-src="{{pathImgProfile + group.group_image}}" ng-if="group.group_image" class="group-image-side" alt=""> <label class="group-image-side-null" style="background-color: {{group.group_color}}" ng-show="!group.group_image"> <i ng-if="!group.group_image" class="fa fa-object-group fx-5x"> </i> </label> <label class="name-lst-contact"> {{group.group_name}} </label> </div> </div> <div class="cls-contact-btn-options"> <div uib-accordion> <div uib-accordion-group close-others="true" ng-repeat="contact in group.contacts | orderBy: 'contact_name_given' | filter:searchContacts | filter: (favoritesFilter || '') && {favorite: true} "> <div uib-accordion-heading style="text-decoration: none; border: none"> <div style="display: block; padding: 10px 15px" class="contact-item clearfix"> <img ng-if="contact.contact_profile_image" ng-src="{{pathImgProfile + contact.contact_profile_image}}" class="cls-img-lst-contact" alt=""> <label class="cls-img-lst-contact-null" ng-show="!contact.contact_profile_image" style="{{ setProfileColor(contact.contact_profile_color) }}"> {{contact.contact_name_given.substring(0,1).toUpperCase()}} {{contact.contact_name_family.substring(0,1).toUpperCase()}} </label> <label class="name-lst-contact"> {{contact.contact_name_given}} {{contact.contact_name_family}} </label> <i class="{{ showicon(contact.status, '') }}" style="font-size: 24px; float: right; margin-top: 6px" tooltip-placement="bottom" uib-tooltip="{{contact.status}}"> </i> </div> </div> <div class="cls-contact-btn-options"> <ul> <span ng-if="contact.contact_type=='user'"> <li tooltip-placement="top" uib-tooltip="Chat" ng-click="startDirectMessageFromContact(contact)"> <h4> <span style="color: #f8a632"> <i class="fa fa-comments fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="contact.contact_type!='user'"> <li> <h4> <span style="color: grey"> <i class="fa fa-comments fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="contact.contact_mobile_number"> <li tooltip-placement="top" uib-tooltip="Text" ng-click="showModalWithData('/sms/sendsmstop.html',contact.contact_mobile_number)"> <h4> <span style="color: #f8a632"> <i class="fa fa-paper-plane fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="!contact.contact_mobile_number"> <li tooltip-placement="top" uib-tooltip="No Mobile Number Available"> <h4> <span style="color: grey"> <i class="fa fa-paper-plane fa-lg"> </i> </span> </h4> </li> </span> <span class="btn-group"> <li ng-init="getPhonesContact(contact.contact_uuid) "> <button class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border: none !important; background: transparent !important"> <span style="color: #8adbf6; font-size: 20px"> <i class="fa fa-phone"></i> </span> </button> <ul class="dropdown-menu"> <li ng-if="contact.extension"> <a href="" ng-click="makeCall(contact.extension)"> <strong> Extension: ( {{contact.extension}} ) </strong> </a> </li> <li ng-repeat="phone in contact.phones"> <a href="" ng-click="makeCall(phone.phone_number)"> {{phone.phone_label}} {{phone.phone_number | tel}} </a> </li> </ul> </li> </span> <li ng-if="contact.contact_email_address && contact.contact_email_address!=''" tooltip-placement="top" uib-tooltip="{{::contact.contact_email_address}}"> <a ng-click="startEmailClient(contact.contact_email_address)"> <h4> <span style="color: #64d76c"> <i class="fa fa-envelope-o fa-lg"> </i> </span> </h4> </a> </li> <li ng-if="!contact.contact_email_address || contact.contact_email_address==''" tooltip-placement="top" uib-tooltip="no email available... "> <h4> <span style="color: grey"> <i class="fa fa-envelope-o fa-lg"> </i> </span> </h4> </li> <span ng-if="contact.contact_type=='user'"> <li tooltip-placement="top" uib-tooltip="Video conference" ng-click="sendVideoInvite(contact)"> <h4> <span style="color: #f8a632"> <i class="fa fa-video-camera fa-lg"> </i> </span> </h4> </li> </span> <li tooltip-placement="top-right" uib-tooltip="Edit/View contact" style="float: right"> <h4> <span style="color: orangered"> <i ng-if="contact.contact_type!='user'" class="fa fa-pencil-square-o fa-lg" ng-click="showEditContactForm(contact)"> </i> </span> </h4> </li> <li tooltip-placement="top" uib-tooltip="{{contact.favorite== true ? 'Remove From Favorites' : 'Add to Favorites'}}" style="float: right"> <h4> <span style="color: orangered"> <i class="fa {{contact.favorite== true ? 'fa-star' : 'fa-star-o'}} fa-lg" ng-click="toggleContactasFavorite(contact.contact_uuid)"> </i> </span> </h4> </li> <!--<li tooltip-placement="top" uib-tooltip="{{::tips.leftbar.view_communications}}" style="float: right;">
                                                <h4>
                                                    <span style="color: green;">
                                                        <i class="fa fa-eye fa-lg"
                                                           ng-click="showCommunications(contact)">
                                                        </i>
                                                    </span>
                                                </h4>
                                            </li>--> </ul> </div> </div> </div> </div> </div> </div> <div ng-repeat="check in repeatContactDisplay" uib-accordion> <div ng-if="contact.contact_uuid !== user.contact_uuid && contact.contact_name_given !=='' && contact.contact_name_family !==''  " uib-accordion-group close-others="true" ng-click="contactHeadingClicked($index, filteredContacts.length)" ng-repeat="contact in filteredContacts = (userContacts | orderBy: 'contact_name_given' | filter: searchContacts | filter: (check.check==1 ||'') && {contact_type: 'user'} | filter: (check.check==2 ||'') && {contact_type: '!user'} | filter:filterForGroups  | filter: (favoritesFilter || '') && {favorite: true}) "> <div uib-accordion-heading style="text-decoration: none; border: none"> <div style="display: block; padding: 10px 15px" class="contact-item clearfix"> <img ng-if="contact.contact_profile_image" ng-src="{{pathImgProfile + contact.contact_profile_image}}" class="cls-img-lst-contact" alt=""> <label class="cls-img-lst-contact-null" ng-show="!contact.contact_profile_image" style="{{ setProfileColor(contact.contact_profile_color) }}"> {{contact.contact_name_given.substring(0,1).toUpperCase()}} {{contact.contact_name_family.substring(0,1).toUpperCase()}} </label> <label class="name-lst-contact"> {{contact.contact_name_given}} {{contact.contact_name_family}} </label> <i class="{{ showicon(contact.status, '') }}" style="font-size: 24px; float: right; margin-top: 6px" tooltip-placement="bottom" uib-tooltip="{{contact.status}}"> </i> </div> </div> <div class="cls-contact-btn-options"> <ul> <span ng-if="contact.contact_type=='user'"> <li tooltip-placement="top" uib-tooltip="Chat" ng-click="startDirectMessageFromContact(contact)"> <h4> <span style="color: #f8a632"> <i class="fa fa-comments fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="contact.contact_type!='user'"> <li tooltip-placement="top" uib-tooltip="Chat"> <h4> <span style="color: grey"> <i class="fa fa-comments fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="contact.contact_mobile_number"> <li tooltip-placement="top" uib-tooltip="Text" ng-click="showModalWithData('/sms/sendsmstop.html',contact.contact_mobile_number)"> <h4> <span style="color: #f8a632"> <i class="fa fa-paper-plane fa-lg"> </i> </span> </h4> </li> </span> <span ng-if="!contact.contact_mobile_number"> <li tooltip-placement="top" uib-tooltip="No Mobile Number Available"> <h4> <span style="color: grey"> <i class="fa fa-paper-plane fa-lg"> </i> </span> </h4> </li> </span> <span class="btn-group"> <li ng-init="getPhonesContact(contact.contact_uuid) "> <button class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border: none !important; background: transparent !important"> <span style="color: #8adbf6; font-size: 20px"> <i class="fa fa-phone"></i> </span> </button> <ul class="dropdown-menu"> <li ng-if="contact.extension"> <a href="" ng-click="makeCall(contact.extension)"> <strong> Extension: ( {{contact.extension}} ) </strong> </a> </li> <li ng-repeat="phone in contact.phones"> <a href="" ng-click="makeCall(phone.phone_number)"> {{phone.phone_label}} {{phone.phone_number | tel}} </a> </li> </ul> </li> </span> <li ng-if="contact.contact_email_address && contact.contact_email_address!=''" tooltip-placement="top" uib-tooltip="{{::contact.contact_email_address}}"> <a ng-click="startEmailClient(contact.contact_email_address)"> <h4> <span style="color: #64d76c"> <i class="fa fa-envelope-o fa-lg"></i> </span> </h4> </a> </li> <li ng-if="!contact.contact_email_address || contact.contact_email_address==''" tooltip-placement="top" uib-tooltip="no email available... "> <h4> <span style="color: grey"> <i class="fa fa-envelope-o fa-lg"> </i> </span> </h4> </li> <span ng-if="contact.contact_type=='user'"> <li tooltip-placement="top" uib-tooltip="Videoconference" ng-click="sendVideoInvite(contact)"> <h4> <span style="color: #f8a632"> <i class="fa fa-video-camera fa-lg"> </i> </span> </h4> </li> </span> <li tooltip-placement="top-right" uib-tooltip="Edit/View contact" style="float: right"> <h4> <span style="color: orangered"> <i ng-if="contact.contact_type!='user'" class="fa fa-pencil-square-o fa-lg" ng-click="showEditContactForm(contact)"></i> </span> </h4> </li> <li tooltip-placement="top" uib-tooltip="{{contact.favorite==true ? 'Remove From Favorites' : 'Add to Favorites'}}" style="float: right"> <h4> <span style="color: orangered"> <i class="fa {{contact.favorite==true ? 'fa-star' : 'fa-star-o'}} fa-lg" ng-click="toggleContactasFavorite(contact.contact_uuid)"> </i> </span> </h4> </li> <!--
                                <li tooltip-placement="top" uib-tooltip="{{::tips.leftbar.view_communications}}" style="float: right;">
                                    <h4>
                                        <span style="color: green;">
                                            <i class="fa fa-eye fa-lg"
                                                ng-click="showCommunications(contact)">
                                            </i>
                                        </span>
                                    </h4>
                                </li>--> </ul> </div> </div> </div> <div id="contacts-bottom">&nbsp;</div> <script type="text/ng-template" id="warning-dialog.html"><div class="modal-header">
                        <h3>You're Idle. Click or Move your mouse to stay online!</h3>
                    </div>
                    <div idle-countdown="countdown" ng-init="countdown=30" class="modal-body">
                        <uib-progressbar max="30" value="30" animate="false" class="progress-striped active">You'll be logged out in {{countdown}} second(s).</uib-progressbar>
                    </div></script> <script type="text/ng-template" id="timedout-dialog.html"><div class="modal-header">
                        <h3>You've Timed Out!</h3>
                    </div>
                    <div class="modal-body">
                        <p>
                            You were idle too long and for security you have been logged out.
                        </p>
                    </div></script> </div> </div> </div> <div id="ModalContainer" ng-controller="ModalCtrl"> </div> </div>